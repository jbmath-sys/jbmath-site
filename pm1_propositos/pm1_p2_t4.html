<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Concepto y uso del √°baco | JBMATH</title>
  <link rel="stylesheet" href="../assets/style.css" />

  <!-- ‚úÖ Solo lo necesario: estilos EXTRA (no toca lo dem√°s) -->
  <style>
    /* ===== EXTRA UI (solo esta p√°gina) ===== */
    .mini-note{
      margin-top:12px;
      padding:12px;
      border-radius:16px;
      border:1px solid rgba(124,58,237,.35);
      background:rgba(124,58,237,.10);
      color:rgba(255,255,255,.86);
    }
    .mini-note strong{ color:rgba(255,255,255,.92); }

    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      margin-top:12px;
    }
    @media (max-width: 860px){
      .grid2{ grid-template-columns: 1fr; }
    }

    .panel{
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      border-radius:16px;
      padding:14px;
    }
    .panel h3{
      margin:0 0 8px;
      font-size:15px;
      letter-spacing:.2px;
    }
    .panel p{ margin:0 0 10px; color:rgba(255,255,255,.85); }
    .panel ul{ margin:0; padding-left:18px; color:rgba(255,255,255,.82); }

    .tag{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
      font-size:12px;
      color:rgba(255,255,255,.82);
    }

    /* ===== Abaco demo ===== */
    .abaco{
      margin-top:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      border-radius:16px;
      padding:14px;
    }
    .abaco .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:10px;
    }
    .input{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:rgba(255,255,255,.9);
      outline:none;
      width:min(520px,100%);
    }
    .pill{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      color:rgba(255,255,255,.82);
      font-size:12px;
    }
    .feedback{
      margin-top:10px;
      color:var(--muted);
      line-height:1.55;
    }
    .warn{
      border-color: rgba(245,158,11,.55) !important;
      background: rgba(245,158,11,.10) !important;
      color:rgba(255,235,200,.95) !important;
    }

    .rod-wrap{
      margin-top:12px;
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap:12px;
    }
    @media (max-width: 860px){
      .rod-wrap{ grid-template-columns: 1fr 1fr; }
    }
    .rod{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.12);
      border-radius:14px;
      padding:12px;
      position:relative;
      overflow:hidden;
      min-height:108px;
    }
    .rod .lbl{
      font-size:12px;
      color:var(--muted);
      margin:0 0 8px;
    }
    .beads{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
    }
    .bead{
      width:18px;
      height:18px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.08);
      box-shadow: var(--shadow2);
    }
    .bead.on{
      border-color: rgba(34,197,94,.55);
      background: rgba(34,197,94,.16);
    }

    .legend{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      color:var(--muted);
      font-size:13px;
    }
    .dot{
      width:12px;height:12px;border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.08);
      display:inline-block;
      vertical-align:middle;
      margin-right:6px;
    }
    .dot.on{
      border-color: rgba(34,197,94,.55);
      background: rgba(34,197,94,.16);
    }

    /* ===== Mini quiz ===== */
    .quiz{
      margin-top:14px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.05);
      border-radius:16px;
      padding:14px;
    }
    .quiz .qtitle{
      margin:0 0 10px;
      font-weight:800;
    }
    .quiz .qtext{ margin:0 0 10px; color:rgba(255,255,255,.86); }
    .quiz .opts{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:8px;
    }
    .btn-ok{
      border-color: rgba(34,197,94,.55) !important;
      background: rgba(34,197,94,.12) !important;
    }
    .btn-bad{
      border-color: rgba(239,68,68,.55) !important;
      background: rgba(239,68,68,.12) !important;
    }
    .score-line{
      margin-top:10px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
  </style>
</head>

<body>
  <header class="site-header">
    <div class="header-inner container">
      <a class="brand" href="../index.html" aria-label="Ir a inicio">
        <img class="brand-logo" src="../assets/imagenes/logo.png" alt="Logo JBMATH" />
        <div class="brand-text">
          <span class="brand-name">JBMATH</span>
          <span class="brand-tagline">Plataforma educativa</span>
        </div>
      </a>

      <nav class="site-nav" aria-label="Navegaci√≥n principal">
        <a class="nav-link" href="../index.html">Inicio</a>
        <a class="nav-link" href="../pm1_progresiones.html">PM I</a>
        <a class="nav-link" href="../contacto.html">Contacto</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <nav class="breadcrumbs" aria-label="Ruta de navegaci√≥n">
      <a href="../index.html">Inicio</a>
      <span class="sep">‚Ä∫</span>
      <a href="../pm1_progresiones.html">Pensamiento Matem√°tico I</a>
      <span class="sep">‚Ä∫</span>
      <span>Prop√≥sito 1</span>
      <span class="sep">‚Ä∫</span>
      <strong>√Åbaco</strong>
    </nav>

    <section class="hero">
      <div class="hero-card">
        <p class="badge">PM I ¬∑ Prop√≥sito 1</p>
        <h1 class="title">Concepto y uso del √°baco</h1>
        <p class="subtitle">El ‚Äúhardware‚Äù original para contar y calcular: lugar, valor y movimientos.</p>

        <div class="search-wrap">
          <a class="btn" href="pm1_p1_t7.html">‚Üê Tema anterior</a>
          <a class="btn" href="pm1_p1_t9.html">Siguiente tema ‚Üí</a>
        </div>
      </div>
    </section>

    <section class="topic">
      <div class="topic-card">

        <h2>1) ¬øQu√© es un √°baco?</h2>
        <p>
          El <strong>√°baco</strong> es un instrumento de c√°lculo que representa n√∫meros usando <strong>cuentas</strong>
          (bolitas) sobre <strong>varillas</strong> o l√≠neas. Su idea central es el <strong>valor posicional</strong>:
          cada varilla representa unidades, decenas, centenas, etc.
        </p>

        <div class="mini-note">
          <strong>En corto:</strong> el √°baco ‚Äúvuelve visible‚Äù lo que pasa cuando sumas o restas: llevadas, pr√©stamos y posiciones.
        </div>

        <h2 style="margin-top:22px;">2) ¬øPara qu√© sirve?</h2>
        <div class="grid2">
          <div class="panel">
            <h3>‚úÖ Contar y representar n√∫meros</h3>
            <ul>
              <li>Ver unidades, decenas, centenas...</li>
              <li>Entender el papel del cero como ‚Äúsin cuentas‚Äù en una posici√≥n.</li>
            </ul>
          </div>
          <div class="panel">
            <h3>‚úÖ Calcular</h3>
            <ul>
              <li>Sumas y restas (con llevadas/pr√©stamos).</li>
              <li>Multiplicaciones y divisiones (con t√©cnicas espec√≠ficas).</li>
            </ul>
          </div>
        </div>

        <h2 style="margin-top:22px;">3) Idea clave: valor posicional</h2>
        <p>
          En un √°baco decimal simple:
        </p>
        <ul>
          <li>Varilla 1 = <strong>unidades</strong></li>
          <li>Varilla 2 = <strong>decenas</strong></li>
          <li>Varilla 3 = <strong>centenas</strong></li>
          <li>Varilla 4 = <strong>millares</strong></li>
        </ul>

        <div class="mini-note">
          <strong>Regla:</strong> 10 cuentas en una varilla se convierten en 1 cuenta en la varilla de la izquierda.
          (La famosa ‚Äúllevada‚Äù).
        </div>

        <h2 style="margin-top:22px;">4) Demo interactiva: ‚Äú√Åbaco‚Äù (simulaci√≥n sencilla)</h2>
        <p>
          Escribe un n√∫mero (0 a 9999) y mira c√≥mo quedar√≠a en un √°baco decimal por posiciones.
          <span class="tag">No es un soroban completo</span> ‚Äî es una versi√≥n did√°ctica para entender posiciones.
        </p>

        <div class="abaco" aria-label="Demo de √°baco decimal">
          <div class="row">
            <input id="num" class="input" placeholder="Ejemplo: 507 o 2026" aria-label="N√∫mero para representar en √°baco" />
            <button class="btn" id="btnShow" type="button">Mostrar en √°baco</button>
            <button class="btn" id="btnRnd" type="button">Aleatorio</button>
            <button class="btn" id="btnClear" type="button">Limpiar</button>
          </div>

          <div class="legend">
            <span><span class="dot on"></span> cuenta activa</span>
            <span><span class="dot"></span> cuenta ‚Äúvac√≠a‚Äù</span>
            <span class="pill" id="pillRead">Lectura: ‚Äî</span>
          </div>

          <div class="feedback" id="fb"></div>

          <!-- 4 varillas -->
          <div class="rod-wrap" id="rodWrap" aria-label="Varillas del √°baco">
            <!-- se llena con JS -->
          </div>
        </div>

        <h2 style="margin-top:22px;">5) ¬øC√≥mo ‚Äúse lee‚Äù un √°baco?</h2>
        <div class="panel">
          <p>
            Se lee de izquierda a derecha (millares ‚Üí unidades). El n√∫mero que ves es la suma de:
            <strong>(millares √ó 1000) + (centenas √ó 100) + (decenas √ó 10) + (unidades √ó 1)</strong>.
          </p>
          <ul>
            <li>Si una varilla no tiene cuentas, esa posici√≥n vale <strong>0</strong>.</li>
            <li>Eso explica por qu√© el cero es fundamental en el sistema posicional.</li>
          </ul>
        </div>

        <h2 style="margin-top:22px;">6) Mini-quiz</h2>
        <p>Responde y te digo al instante si estuvo bien:</p>
        <div class="quiz" id="quizBox" aria-live="polite"></div>

        <!-- ‚úÖ Video (opcional): cambia el ID cuando tengas el video correcto -->
        <section class="video-block" aria-label="Video del tema">
          <h2 style="margin-top:22px;">7) Video del subtema</h2>

          <div class="video-grid">
            <div class="video-frame">
              <iframe
                src="https://www.youtube.com/embed/BrAs6Tz3ZUE"
                title="Concepto y uso del √°baco - JBMATH"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
              </iframe>
            </div>

            <div class="video-meta">
              <p class="video-mini">
                <strong>Objetivo:</strong> Representar n√∫meros en un √°baco y relacionarlo con el valor posicional.
              </p>

              <ul class="video-points">
                <li>Qu√© es y para qu√© sirve el √°baco.</li>
                <li>Varillas: unidades, decenas, centenas, millares.</li>
                <li>Llevadas: 10 en una varilla ‚Üí 1 en la izquierda.</li>
              </ul>

              <div class="video-actions">
                <a class="btn btn-ghost"
                   href="https://www.youtube.com/playlist?list=ID_PLAYLIST_PROP1"
                   target="_blank" rel="noopener">
                  Ver playlist del Prop√≥sito 1
                </a>

                <a class="btn"
                   href="https://www.youtube.com/watch?v=BrAs6Tz3ZUE"
                   target="_blank" rel="noopener">
                  Ver en YouTube (profundizar)
                </a>
              </div>
            </div>
          </div>
        </section>

        <div class="search-wrap">
          <a class="btn" href="pm1_p1_t9.html">Ir al siguiente tema ‚Üí</a>
        </div>

      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-copy">
        <p>¬© 2025 Profe JB ‚Äî JBMATH</p>
        <p class="muted">Hecho con caf√© y n√∫meros (en ese orden).</p>
      </div>

      <a class="yt-link"
         href="https://www.youtube.com/@JBMATH"
         target="_blank"
         rel="noopener"
         aria-label="Canal de YouTube JBMATH">
        <svg class="yt-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M21.6 7.2a3 3 0 0 0-2.1-2.1C17.7 4.7 12 4.7 12 4.7s-5.7 0-7.5.4A3 3 0 0 0 2.4 7.2 31 31 0 0 0 2 12a31 31 0 0 0 .4 4.8 3 3 0 0 0 2.1 2.1c1.8.4 7.5.4 7.5.4s5.7 0 7.5-.4a3 3 0 0 0 2.1-2.1A31 31 0 0 0 22 12a31 31 0 0 0-.4-4.8z"/>
          <path d="M10 15.5v-7l6 3.5-6 3.5z" fill="currentColor"/>
        </svg>
      </a>
    </div>
  </footer>

  <!-- ‚úÖ Solo lo necesario: JS para ‚Äú√°baco‚Äù + quiz -->
  <script>
    // =========================
    // Abaco: render por posiciones (0..9999)
    // =========================
    const rods = [
      { key:"th", label:"Millares (√ó1000)" },
      { key:"hu", label:"Centenas (√ó100)" },
      { key:"te", label:"Decenas (√ó10)" },
      { key:"un", label:"Unidades (√ó1)" },
    ];

    function createRods(){
      const wrap = document.getElementById("rodWrap");
      wrap.innerHTML = "";
      rods.forEach(r=>{
        const div = document.createElement("div");
        div.className = "rod";
        div.innerHTML = `
          <p class="lbl">${r.label}</p>
          <div class="beads" id="beads-${r.key}" aria-label="${r.label}"></div>
        `;
        wrap.appendChild(div);
      });

      // 10 cuentas por varilla (0..9)
      rods.forEach(r=>{
        const beads = document.getElementById(`beads-${r.key}`);
        beads.innerHTML = "";
        for(let i=0;i<10;i++){
          const b = document.createElement("span");
          b.className = "bead";
          beads.appendChild(b);
        }
      });
    }

    function setBeads(key, amount){
      const beads = document.getElementById(`beads-${key}`).querySelectorAll(".bead");
      beads.forEach((b, idx)=>{
        if(idx < amount) b.classList.add("on");
        else b.classList.remove("on");
      });
    }

    function parseInput(){
      const raw = document.getElementById("num").value.trim();
      const fb = document.getElementById("fb");
      fb.classList.remove("warn");
      fb.textContent = "";

      if(!raw){
        fb.classList.add("warn");
        fb.textContent = "Escribe un n√∫mero primero üôÇ";
        return null;
      }
      if(!/^\d+$/.test(raw)){
        fb.classList.add("warn");
        fb.textContent = "Usa solo d√≠gitos (0-9). Ejemplo: 507, 2026.";
        return null;
      }
      const n = Number(raw);
      if(n > 9999){
        fb.classList.add("warn");
        fb.textContent = "Por ahora usa n√∫meros de 0 a 9999 para que se vea claro.";
        return null;
      }
      return n;
    }

    function showAbaco(){
      const n = parseInput();
      if(n === null) return;

      const th = Math.floor(n / 1000);
      const hu = Math.floor((n % 1000) / 100);
      const te = Math.floor((n % 100) / 10);
      const un = n % 10;

      setBeads("th", th);
      setBeads("hu", hu);
      setBeads("te", te);
      setBeads("un", un);

      document.getElementById("pillRead").textContent = `Lectura: ${th}${hu}${te}${un} (=${n})`;

      const fb = document.getElementById("fb");
      fb.classList.remove("warn");
      fb.innerHTML = `
        ‚Ä¢ Millares: <strong>${th}</strong> ‚Üí ${th}√ó1000 = <strong>${th*1000}</strong><br>
        ‚Ä¢ Centenas: <strong>${hu}</strong> ‚Üí ${hu}√ó100 = <strong>${hu*100}</strong><br>
        ‚Ä¢ Decenas: <strong>${te}</strong> ‚Üí ${te}√ó10 = <strong>${te*10}</strong><br>
        ‚Ä¢ Unidades: <strong>${un}</strong> ‚Üí ${un}√ó1 = <strong>${un}</strong><br><br>
        <span class="muted">Suma total: ${th*1000 + hu*100 + te*10 + un}.</span>
      `;
    }

    function rnd(){
      const n = Math.floor(Math.random()*10000);
      document.getElementById("num").value = String(n);
      showAbaco();
    }

    function clearAll(){
      document.getElementById("num").value = "";
      ["th","hu","te","un"].forEach(k=> setBeads(k, 0));
      document.getElementById("pillRead").textContent = "Lectura: ‚Äî";
      const fb = document.getElementById("fb");
      fb.classList.remove("warn");
      fb.textContent = "";
    }

    document.getElementById("btnShow").addEventListener("click", showAbaco);
    document.getElementById("btnRnd").addEventListener("click", rnd);
    document.getElementById("btnClear").addEventListener("click", clearAll);

    createRods();

    // =========================
    // Mini-quiz
    // =========================
    const quizData = [
      {
        q: "¬øQu√© representa cada varilla en un √°baco decimal?",
        opts: [
          {t:"Una posici√≥n (unidades, decenas, centenas‚Ä¶)", ok:true, why:"Correcto: cada varilla es una posici√≥n decimal."},
          {t:"Un color distinto nada m√°s", ok:false, why:"Puede tener colores, pero lo importante es la posici√≥n."},
          {t:"Una operaci√≥n (suma, resta‚Ä¶)", ok:false, why:"Las operaciones se hacen con movimientos, no con varillas dedicadas."}
        ]
      },
      {
        q: "¬øQu√© significa una varilla sin cuentas activas?",
        opts: [
          {t:"Que esa posici√≥n vale 0", ok:true, why:"Correcto: es el ‚Äúcero‚Äù en esa posici√≥n."},
          {t:"Que el √°baco est√° descompuesto", ok:false, why:"No: solo indica valor 0 en esa posici√≥n."}
        ]
      },
      {
        q: "En un √°baco decimal, 10 cuentas en una varilla equivalen a:",
        opts: [
          {t:"1 cuenta en la varilla de la izquierda", ok:true, why:"Exacto: es la llevada."},
          {t:"10 cuentas en la misma varilla siempre", ok:false, why:"Se hace el cambio por posici√≥n (llevada)."}
        ]
      },
      {
        q: "¬øPara qu√© es √∫til el √°baco en el aprendizaje?",
        opts: [
          {t:"Para visualizar el valor posicional y las llevadas", ok:true, why:"Correcto: lo hace visible y manipulable."},
          {t:"Solo para decorar clases", ok:false, why:"Se ve bonito, pero su fuerza es did√°ctica y pr√°ctica."}
        ]
      }
    ];

    let score = 0, done = 0;

    function renderQuiz(){
      const box = document.getElementById("quizBox");
      score = 0; done = 0;

      box.innerHTML = `
        <p class="qtitle">Mini-quiz (4 preguntas)</p>
        <div id="quizItems"></div>
        <div class="score-line">
          <span class="pill" id="pillScore">Puntaje: 0/4</span>
          <button class="btn" id="btnResetQuiz" type="button">Reiniciar</button>
        </div>
        <div class="feedback" id="quizGlobal"></div>
      `;

      const items = document.getElementById("quizItems");

      quizData.forEach((item, i) => {
        const el = document.createElement("div");
        el.className = "quiz";
        el.style.marginTop = "12px";
        el.innerHTML = `
          <p class="qtext"><strong>${i+1}.</strong> ${item.q}</p>
          <div class="opts">
            ${item.opts.map((o, j)=> `<button class="btn" type="button" data-i="${i}" data-j="${j}">${o.t}</button>`).join("")}
          </div>
          <div class="feedback" id="fbq-${i}"></div>
        `;
        items.appendChild(el);
      });

      items.querySelectorAll("button.btn").forEach(btn=>{
        btn.addEventListener("click", onAnswer);
      });

      document.getElementById("btnResetQuiz").addEventListener("click", renderQuiz);
    }

    function onAnswer(e){
      const btn = e.currentTarget;
      const i = Number(btn.dataset.i);
      const j = Number(btn.dataset.j);
      const item = quizData[i];
      const opt = item.opts[j];

      const fb = document.getElementById(`fbq-${i}`);
      if (fb.dataset.done === "1") return;
      fb.dataset.done = "1";

      const wrap = btn.closest(".quiz");
      wrap.querySelectorAll(".opts .btn").forEach(b=>{
        b.disabled = true;
        b.classList.remove("btn-ok","btn-bad");
      });

      if(opt.ok){
        btn.classList.add("btn-ok");
        score++;
        fb.innerHTML = `‚úÖ <strong>Bien.</strong> ${opt.why}`;
      }else{
        btn.classList.add("btn-bad");
        const correctIndex = item.opts.findIndex(x=>x.ok);
        wrap.querySelectorAll(".opts .btn")[correctIndex].classList.add("btn-ok");
        fb.innerHTML = `‚ùå <strong>Casi.</strong> ${opt.why}`;
      }

      done++;
      document.getElementById("pillScore").textContent = `Puntaje: ${score}/4`;

      if(done === quizData.length){
        const g = document.getElementById("quizGlobal");
        if(score === 4) g.textContent = "Excelente: ya puedes leer √°bacos como si fueran memes üòÑ";
        else if(score >= 3) g.textContent = "Muy bien. Ya casi eres ‚Äúmaestro de varillas y cuentas‚Äù.";
        else g.textContent = "Repite: el √°baco es simple‚Ä¶ pero poderoso (como el cero).";
      }
    }

    renderQuiz();
  </script>
</body>
</html>
